{"version":3,"sources":["webpack://mottle/./src/style.css","webpack://mottle/./src/style.css?7163","webpack://mottle/./src/util.ts","webpack://mottle/./src/ecs/components.ts","webpack://mottle/./src/pixi/pixi_app.ts","webpack://mottle/./src/input.ts","webpack://mottle/./src/shapes.ts","webpack://mottle/./src/level.ts","webpack://mottle/./src/paint.ts","webpack://mottle/./src/ecs/systems.ts","webpack://mottle/./src/pixi/object_manager.ts","webpack://mottle/./src/ecs/render_systems.ts","webpack://mottle/./src/ecs/ecs.ts","webpack://mottle/./src/game.ts","webpack://mottle/./src/index.ts","webpack://mottle/webpack/bootstrap","webpack://mottle/webpack/runtime/chunk loaded","webpack://mottle/webpack/runtime/compat get default export","webpack://mottle/webpack/runtime/define property getters","webpack://mottle/webpack/runtime/global","webpack://mottle/webpack/runtime/hasOwnProperty shorthand","webpack://mottle/webpack/runtime/make namespace object","webpack://mottle/webpack/runtime/node module decorator","webpack://mottle/webpack/runtime/jsonp chunk loading","webpack://mottle/webpack/startup"],"names":[],"mappings":"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","file":"main.bundle.js","sourcesContent":["// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"* {\\n    padding: 0;\\n    margin: 0;\\n}\\n\\nbody  {\\n    background: #ffdaac;\\n}\\n\\n#viewport {\\n    display: block;\\n    margin: 0 auto;\\n    image-rendering: -moz-crisp-edges;\\n    image-rendering: -webkit-crisp-edges;\\n    image-rendering: pixelated;\\n    image-rendering: crisp-edges;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/style.css\"],\"names\":[],\"mappings\":\"AAAA;IACI,UAAU;IACV,SAAS;AACb;;AAEA;IACI,mBAAmB;AACvB;;AAEA;IACI,cAAc;IACd,cAAc;IACd,iCAAiC;IACjC,oCAAoC;IACpC,0BAA0B;IAC1B,4BAA4B;AAChC\",\"sourcesContent\":[\"* {\\n    padding: 0;\\n    margin: 0;\\n}\\n\\nbody  {\\n    background: #ffdaac;\\n}\\n\\n#viewport {\\n    display: block;\\n    margin: 0 auto;\\n    image-rendering: -moz-crisp-edges;\\n    image-rendering: -webkit-crisp-edges;\\n    image-rendering: pixelated;\\n    image-rendering: crisp-edges;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","\n      import API from \"!../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../node_modules/css-loader/dist/cjs.js!./style.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../node_modules/css-loader/dist/cjs.js!./style.css\";\n       export default content && content.locals ? content.locals : undefined;\n","import { AreaConstraint, componentToVector2, Transform } from './ecs/components'\nimport { PI_2 } from 'pixi.js'\nimport { differenceAngles } from 'yy-angle'\n\n// When PIXI.Point doesn't cut it\nexport class Vector2 {\n\tx: number\n\ty: number\n\tstatic getMagnitude({ x, y }: Vector2) {\n\t\treturn Math.sqrt(x ** 2 + y ** 2)\n\t}\n\tstatic getMagnitudeSquared({ x, y }: Vector2) {\n\t\treturn x ** 2 + y ** 2\n\t}\n\tstatic normalize({ x, y }: Vector2, magnitude?: number, scalar = 1) {\n\t\tif (!magnitude) magnitude = Vector2.getMagnitude({ x, y })\n\t\treturn { x: (x / magnitude) * scalar, y: (y / magnitude) * scalar }\n\t}\n\tstatic multiplyScalar({ x, y }: Vector2, scalar: number) {\n\t\treturn { x: x * scalar, y: y * scalar }\n\t}\n\tstatic toString({ x, y }: Vector2) {\n\t\treturn x + ':' + y\n\t}\n\tstatic equals({ x: x1, y: y1 }: Vector2, { x: x2, y: y2 }: Vector2) {\n\t\treturn x1 === x2 && y1 === y2\n\t}\n\tstatic rotate({ x, y }: Vector2, radians: number) {\n\t\treturn {\n\t\t\tx: x * Math.cos(radians) - y * Math.sin(radians),\n\t\t\ty: x * Math.sin(radians) + y * Math.cos(radians),\n\t\t}\n\t}\n\tstatic getAngle({ x, y }: Vector2) {\n\t\treturn Math.atan2(y, x)\n\t}\n\tstatic subtract(v1: Vector2, v2: Vector2): Vector2 {\n\t\treturn { x: v1.x - v2.x, y: v1.y - v2.y }\n\t}\n\tstatic add(...vectors: Vector2[]): Vector2 {\n\t\tconst result = { ...vectors[0] }\n\t\tfor (let i = 1; i < vectors.length; i++) {\n\t\t\tresult.x += vectors[i].x\n\t\t\tresult.y += vectors[i].y\n\t\t}\n\t\treturn result\n\t}\n\tstatic applyAreaConstraint(vector: Vector2, eid: number) {\n\t\treturn {\n\t\t\tx: clamp(vector.x, AreaConstraint.left[eid], AreaConstraint.right[eid]),\n\t\t\ty: clamp(vector.y, AreaConstraint.top[eid], AreaConstraint.bottom[eid]),\n\t\t}\n\t}\n\tstatic fromComponent = componentToVector2\n\tstatic round(vector: Vector2) {\n\t\treturn {\n\t\t\tx: Math.round(vector.x),\n\t\t\ty: Math.round(vector.y),\n\t\t}\n\t}\n\tstatic new(x = 0, y = 0) {\n\t\treturn { x, y }\n\t}\n\tstatic assign(target: Vector2, source: Vector2) {\n\t\ttarget.x = source.x\n\t\ttarget.y = source.y\n\t\treturn target\n\t}\n\tstatic fromAngle(length: number, angle: number) {\n\t\treturn {\n\t\t\tx: length * Math.cos(angle),\n\t\t\ty: length * Math.sin(angle),\n\t\t}\n\t}\n}\n\nexport function clamp(val: number, min: number, max: number) {\n\tif (min > max) return Math.max(max, Math.min(min, val))\n\telse return Math.max(min, Math.min(max, val))\n}\n\nexport function transformsCollide(eid1: number, eid2: number) {\n\treturn aabbCollide(\n\t\tTransform.x[eid1],\n\t\tTransform.y[eid1],\n\t\tTransform.width[eid1],\n\t\tTransform.height[eid1],\n\t\tTransform.x[eid2],\n\t\tTransform.y[eid2],\n\t\tTransform.width[eid2],\n\t\tTransform.height[eid2]\n\t)\n}\n\nexport function aabbCollide(\n\tx1: number,\n\ty1: number,\n\tw1: number,\n\th1: number,\n\tx2: number,\n\ty2: number,\n\tw2: number,\n\th2: number\n) {\n\treturn x1 < x2 + w2 && x1 + w1 > x2 && y1 < y2 + h2 && y1 + h1 > y2\n}\n\nexport class Angle {\n\tstatic add(a: number, b: number) {\n\t\treturn (a + b) % PI_2\n\t}\n\tstatic flip(a: number) {\n\t\treturn (a + Math.PI) % PI_2\n\t}\n\tstatic diff = differenceAngles\n\tstatic fromVector({ x, y }: Vector2) {\n\t\treturn Math.atan2(y, x)\n\t}\n}\n","import { ComponentType, defineComponent, Types } from 'bitecs'\nimport { Vector2 } from '../util'\n\nconst Vector2C = {\n\tx: Types.f32,\n\ty: Types.f32,\n}\n\nexport function setComponentXY(\n\tcomponent: ComponentType<typeof Vector2C>,\n\tentity: number,\n\t{ x, y }: Vector2\n): void {\n\tcomponent.x[entity] = x\n\tcomponent.y[entity] = y\n}\n\nexport function componentToVector2(\n\tcomponent: ComponentType<typeof Vector2C>,\n\tentity: number\n): Vector2 {\n\treturn { x: component.x[entity], y: component.y[entity] }\n}\n\nexport function updateSpeed(eid: number) {\n\tVelocity.speed[eid] = Vector2.getMagnitude(componentToVector2(Velocity, eid))\n}\n\n// TODO: Move to singleton object\nexport const Player = defineComponent({\n\tpointerDelta: { magnitude: Types.f32, ...Vector2C },\n})\n\nexport const Painting = defineComponent({\n\tticks: Types.ui32,\n\tspeed: Types.f32,\n\tdrift: Types.f32,\n})\n\nexport const Transform = defineComponent({\n\t...Vector2C,\n\twidth: Types.f32,\n\theight: Types.f32,\n\tz: Types.f32,\n})\n\nexport const Velocity = defineComponent({ ...Vector2C, speed: Types.f32 })\n\nexport const Force = defineComponent(Vector2C)\n\nexport const Drag = defineComponent({ rate: Types.f32 })\n\nexport const Jump = defineComponent({\n\t...Vector2C,\n\theight: Types.f32,\n\tduration: Types.ui32,\n\tprogress: Types.ui32,\n})\n\nexport const AreaConstraint = defineComponent({\n\ttop: Types.i32,\n\tbottom: Types.i32,\n\tleft: Types.i32,\n\tright: Types.i32,\n})\n\nexport const DisplayObject = defineComponent()\n","import { Application, Container, Ticker } from 'pixi.js'\n// import { Point } from '@pixi/math'\nimport * as PIXI from 'pixi.js'\n// import { Viewport } from 'pixi-viewport'\n\n//TODO: Use https://pixijs.io/customize/\n\nexport const SCREEN_WIDTH = 600\nexport const SCREEN_HEIGHT = 432\nexport const RENDER_SCALE = 2\n\nPIXI.settings.SCALE_MODE = PIXI.SCALE_MODES.NEAREST\n\nexport class PixiApp {\n\tprivate static _shared: PixiApp = new PixiApp()\n\tapplication = new Application({\n\t\twidth: SCREEN_WIDTH,\n\t\theight: SCREEN_HEIGHT,\n\t\tbackgroundColor: 0xf7ffeb,\n\t\tsharedTicker: true,\n\t})\n\trender = () => this.application.render()\n\tstage: Container = this.application.stage\n\t// viewport: Viewport\n\tspriteContainer: Container = new Container()\n\n\tconstructor() {\n\t\t// Do not use PIXI's ticker\n\t\tTicker.shared.autoStart = false\n\t\tTicker.shared.stop()\n\n\t\t// Configure and add app view canvas to page\n\t\tthis.application.view.id = 'viewport'\n\t\tthis.application.view.style.width = SCREEN_WIDTH * RENDER_SCALE + 'px'\n\t\tthis.application.view.style.height = SCREEN_HEIGHT * RENDER_SCALE + 'px'\n\t\tdocument.body.appendChild(this.application.view)\n\n\t\t// // Create viewport\n\t\t// this.viewport = new Viewport({\n\t\t// \tscreenWidth: this.application.view.width,\n\t\t// \tscreenHeight: this.application.view.height,\n\t\t// \t// worldWidth: 4080,\n\t\t// \t// worldHeight: 264,\n\t\t// \tnoTicker: true,\n\t\t// })\n\t\t// this.viewport.moveCenter(<Point>{ x: 0, y: 0 })\n\t\t// this.stage.addChild(this.viewport)\n\t\t//\n\t\tthis.stage.addChild(this.spriteContainer)\n\t\t// this.spriteContainer.x = SCREEN_WIDTH / 2\n\t\t// this.spriteContainer.y = SCREEN_HEIGHT / 2\n\n\t\t// Pixi inspector\n\t\t;(window as any).__PIXI_INSPECTOR_GLOBAL_HOOK__?.register({ PIXI: PIXI })\n\t}\n\n\tstatic get shared() {\n\t\treturn PixiApp._shared\n\t}\n}\n","import { InteractionEvent, Rectangle } from 'pixi.js'\nimport { PixiApp } from './pixi/pixi_app'\n\nconst { application } = PixiApp.shared\n\nexport default class InputManager {\n\tstatic shared = new InputManager()\n\tmouse = {\n\t\tlocal: { x: 0, y: 0 }, // Updated in inputSystem\n\t\tglobal: { x: 0, y: 0 }, // Updated in inputSystem\n\t\tleftButton: false, // Updated in inputSystem\n\t\trightButton: false, // Updated in inputSystem\n\t\tinBounds: false,\n\t\tstartedInBounds: false,\n\t\tdata: application.renderer.plugins.interaction.mouse,\n\t}\n}\n\nconst viewportRectangle = new Rectangle()\nviewportRectangle.width = application.view.width\nviewportRectangle.height = application.view.height\n\nconst { mouse } = InputManager.shared\n\napplication.renderer.plugins.interaction.on(\n\t'mousemove',\n\t({ data }: InteractionEvent) => {\n\t\tmouse.inBounds = viewportRectangle.contains(data.global.x, data.global.y)\n\t}\n)\n\nfunction onMouseDown() {\n\tmouse.startedInBounds = true\n}\n\napplication.renderer.plugins.interaction.on('mousedown', onMouseDown)\napplication.renderer.plugins.interaction.on('rightdown', onMouseDown)\n\nfunction onMouseUp({ data }: InteractionEvent) {\n\tif (!(data.buttons & 2)) {\n\t\tmouse.startedInBounds = false\n\t}\n}\n\napplication.renderer.plugins.interaction.on('mouseup', onMouseUp)\napplication.renderer.plugins.interaction.on('mouseupoutside', onMouseUp)\n\ndocument.oncontextmenu = document.body.oncontextmenu = function (e) {\n\te.preventDefault()\n}\n","import { DEG_TO_RAD, Rectangle } from 'pixi.js'\nimport { Angle, Vector2 } from './util'\n\nclass AngledPoint {\n\tconstructor(public degrees: number, public distance: number) {}\n\tget angle() {\n\t\treturn this.degrees * DEG_TO_RAD\n\t}\n\tapplyTo(point: Vector2, rotation = 0) {\n\t\tconst angle = this.angle + rotation\n\t\tVector2.assign(\n\t\t\tpoint,\n\t\t\tVector2.add(point, Vector2.fromAngle(this.distance, angle))\n\t\t)\n\t}\n}\n\nclass XYPoint {\n\tconstructor(public x: number, public y: number) {}\n\tget angle() {\n\t\treturn Angle.fromVector(this)\n\t}\n\tapplyTo(point: Vector2, rotation = 0) {\n\t\tVector2.assign(point, Vector2.add(point, Vector2.rotate(this, rotation)))\n\t}\n}\n\nexport class ShapeCreationData {\n\tprivate _boundingBox = new Rectangle()\n\tpublic get boundingBox(): Rectangle {\n\t\tif (this.dirty) this.calculateBoundingBox()\n\t\treturn this._boundingBox\n\t}\n\tpublic rotation = 0\n\tpublic origin = Vector2.new()\n\tprivate dirty = true\n\tconstructor(\n\t\tprivate pointSpecs: (AngledPoint | XYPoint)[],\n\t\tpublic contiguous: boolean = true\n\t) {}\n\trotate(degrees: number) {\n\t\tthis.rotation = degrees * DEG_TO_RAD\n\t\tthis.dirty = true\n\t\treturn this\n\t}\n\tmove(moveTo: Vector2) {\n\t\tconst delta = Vector2.subtract(moveTo, this.origin)\n\t\tVector2.assign(this._boundingBox, Vector2.add(this._boundingBox, delta))\n\t\tVector2.assign(this.origin, moveTo)\n\t\treturn this\n\t}\n\tprivate calculateBoundingBox() {\n\t\tconst nextPoint = Vector2.new()\n\t\tthis.pointSpecs.forEach((pointSpec) => {\n\t\t\tpointSpec.applyTo(nextPoint, this.rotation)\n\t\t\tconst global = Vector2.round(Vector2.add(this.origin, nextPoint))\n\t\t\tthis._boundingBox.enlarge(new Rectangle(global.x, global.y))\n\t\t})\n\t\tthis.dirty = false\n\t}\n\tgetSegmentData(): { start: Vector2; end: Vector2; angle: number }[] {\n\t\tconst segments: { start: Vector2; end: Vector2; angle: number }[] = []\n\t\tconst previousPoint = Vector2.new()\n\t\tconst nextPoint = Vector2.new()\n\t\tthis.pointSpecs.forEach((pointSpec) => {\n\t\t\tpointSpec.applyTo(nextPoint, this.rotation)\n\t\t\tconst start = Vector2.round(Vector2.add(this.origin, previousPoint))\n\t\t\tVector2.assign(previousPoint, nextPoint)\n\t\t\tconst end = Vector2.round(Vector2.add(this.origin, previousPoint))\n\t\t\tsegments.push({ start, end, angle: pointSpec.angle + this.rotation })\n\t\t})\n\t\treturn segments\n\t}\n}\n\nexport const Shapes = {\n\ttriangleIso(width: number, height: number) {\n\t\treturn new ShapeCreationData([\n\t\t\tnew XYPoint(width / 2, -height),\n\t\t\tnew XYPoint(width / 2, height),\n\t\t\tnew XYPoint(-width, 0),\n\t\t])\n\t},\n\tsquare(size: number) {\n\t\treturn new ShapeCreationData([\n\t\t\tnew XYPoint(size, 0),\n\t\t\tnew XYPoint(0, size),\n\t\t\tnew XYPoint(-size, 0),\n\t\t\tnew XYPoint(0, -size),\n\t\t])\n\t},\n\tstar(size: number) {\n\t\treturn new ShapeCreationData([\n\t\t\tnew AngledPoint(36, size),\n\t\t\tnew AngledPoint(36 * 2 - 180, size),\n\t\t\tnew AngledPoint(36 * 3, size),\n\t\t\tnew AngledPoint(36 * 4 - 180, size),\n\t\t\tnew AngledPoint(36 * 5, size),\n\t\t])\n\t},\n\tzigZag(segments: number, segmentLength: number) {\n\t\tconst points: XYPoint[] = []\n\t\tfor (let i = 0; i < segments; i++) {\n\t\t\tpoints.push(\n\t\t\t\tnew XYPoint(segmentLength, segmentLength * (i % 2 === 0 ? 1 : -1))\n\t\t\t)\n\t\t}\n\t\treturn new ShapeCreationData(points, false)\n\t},\n}\n","import { PixiApp, SCREEN_HEIGHT } from './pixi/pixi_app'\nimport { Angle, Vector2 } from './util'\nimport { Container, Graphics, Point, Rectangle } from 'pixi.js'\nimport { DEG_TO_RAD } from '@pixi/math'\nimport { DashLine } from 'pixi-dashed-line'\nimport * as PIXI from 'pixi.js'\nimport { AreaConstraint } from './ecs/components'\nimport { player } from './'\nimport { ShapeCreationData, Shapes } from './shapes'\nimport Prando from 'prando'\n\nconst { spriteContainer } = PixiApp.shared\n\nconst shapeContainer = new Container()\nspriteContainer.addChildAt(shapeContainer, 0)\nconst perforationContainer = new Container()\nperforationContainer.y = 1\nspriteContainer.addChildAt(perforationContainer, 0)\n\nconst MAX_ANGLE = 25 * DEG_TO_RAD\nconst GUIDE_COLOR = 0xff94b2\n\nenum SEGMENT_DIR {\n\tNONE,\n\tSTART_TO_END,\n\tEND_TO_START,\n\tBIDIRECTIONAL,\n}\n\ntype Segment = {\n\tstart: Vector2\n\tend: Vector2\n\tlength: number\n\tangle: number\n\tcomplete: boolean\n\tdirection: SEGMENT_DIR\n\tparallelPoint: Point\n\tperpendicularPoint: Point\n\tprogress: number\n\tdrift: number\n\tnext?: Segment\n\tprevious?: Segment\n}\n\ntype Shape = {\n\tsegments: Segment[]\n\tstartingSegments: Segment[]\n\tstart: Vector2\n\treverse: boolean\n\tcomplete: boolean\n\tcontiguous: boolean\n\trotation: number\n\tboundingBox: Rectangle\n\tgraphics: Graphics\n}\n\nconst shapes: Set<Shape> = new Set()\n\n// TODO: Make this a class instance\nexport const Level: { shape: null | Shape; segment: null | Segment } = {\n\tshape: null,\n\tsegment: null,\n}\n\nconst shapeLineStyle = {\n\twidth: 5,\n\tcolor: GUIDE_COLOR,\n\tcap: PIXI.LINE_CAP.ROUND,\n\tjoin: PIXI.LINE_JOIN.ROUND,\n}\n\nfunction addShape(data: ShapeCreationData) {\n\tconst shape: Shape = {\n\t\tsegments: [],\n\t\tstartingSegments: [],\n\t\treverse: false,\n\t\tcomplete: false,\n\t\tboundingBox: data.boundingBox,\n\t\trotation: data.rotation,\n\t\tcontiguous: data.contiguous,\n\t\tstart: data.origin,\n\t\tgraphics: new Graphics(),\n\t}\n\tshapes.add(shape)\n\tshape.graphics.beginFill(GUIDE_COLOR)\n\tshape.graphics.drawCircle(shape.start.x, shape.start.y, 4)\n\tconst dashedLines = new DashLine(shape.graphics, {\n\t\tdash: [10.08, 14.08], // Decimals for irregular rasterization\n\t\t...shapeLineStyle,\n\t})\n\tdashedLines.moveTo(shape.start.x, shape.start.y)\n\tlet previousSegment: Segment | null = null\n\tconst segmentDataList = data.getSegmentData()\n\tfor (const segmentData of segmentDataList) {\n\t\tshape.graphics.lineStyle(shapeLineStyle)\n\t\tdashedLines.lineTo(segmentData.end.x, segmentData.end.y)\n\t\tshape.graphics.lineStyle()\n\t\tshape.graphics.drawCircle(segmentData.end.x, segmentData.end.y, 4)\n\t\tconst parallelPoint = new Point(\n\t\t\tsegmentData.end.x - segmentData.start.x,\n\t\t\tsegmentData.end.y - segmentData.start.y\n\t\t).normalize()\n\t\tconst perpendicularVector2 = Vector2.rotate(parallelPoint, Math.PI / 2)\n\t\tconst segment: Segment = {\n\t\t\t...segmentData,\n\t\t\tparallelPoint,\n\t\t\tperpendicularPoint: new Point(\n\t\t\t\tperpendicularVector2.x,\n\t\t\t\tperpendicularVector2.y\n\t\t\t),\n\t\t\tdirection: shape.contiguous\n\t\t\t\t? SEGMENT_DIR.BIDIRECTIONAL\n\t\t\t\t: SEGMENT_DIR.NONE,\n\t\t\tcomplete: false,\n\t\t\tprogress: 0,\n\t\t\tdrift: 0,\n\t\t\tlength: Vector2.getMagnitude(\n\t\t\t\tVector2.subtract(segmentData.end, segmentData.start)\n\t\t\t),\n\t\t}\n\t\tif (previousSegment) {\n\t\t\tsegment.previous = previousSegment\n\t\t\tpreviousSegment.next = segment\n\t\t} else if (segment.direction === SEGMENT_DIR.NONE) {\n\t\t\tsegment.direction = SEGMENT_DIR.START_TO_END\n\t\t}\n\t\tshape.segments.push(segment)\n\t\tif (\n\t\t\tshape.contiguous ||\n\t\t\t!previousSegment ||\n\t\t\tshape.segments.length === segmentDataList.length\n\t\t) {\n\t\t\tshape.startingSegments.push(segment)\n\t\t}\n\t\tif (\n\t\t\tshape.segments.length === segmentDataList.length &&\n\t\t\tsegment.direction === SEGMENT_DIR.NONE\n\t\t) {\n\t\t\tsegment.direction = SEGMENT_DIR.END_TO_START\n\t\t}\n\t\tpreviousSegment = segment\n\t\tif (\n\t\t\tshape.boundingBox.top < AreaConstraint.top[player] ||\n\t\t\tshape.boundingBox.bottom > AreaConstraint.bottom[player]\n\t\t)\n\t\t\tthrow `Shape point [${segment.end.x},${segment.end.y}] out of bounds!`\n\t}\n\tif (shape.contiguous) {\n\t\tshape.segments[0].previous = previousSegment!\n\t\tpreviousSegment!.next = shape.segments[0]\n\t}\n\tshape.graphics.cacheAsBitmap = true\n\tshape.graphics.alpha = 0.5\n\tshapeContainer.addChild(shape.graphics)\n}\n\nconst PERFORATION_GAP = 256\n\nexport function createLevel() {\n\tconst perforationGraphic = new Graphics()\n\tconst dashedLines = new DashLine(perforationGraphic, {\n\t\tdash: [2, 2],\n\t\twidth: 2,\n\t\tcolor: 0xf4e3b9,\n\t})\n\tdashedLines.lineTo(0, SCREEN_HEIGHT)\n\n\tlet nextPerforationX = -PERFORATION_GAP / 2\n\tperforationContainer.addChild(\n\t\tperforationGraphic.setTransform(nextPerforationX)\n\t)\n\tfor (let i = 0; i < 2; i++) {\n\t\tnextPerforationX += PERFORATION_GAP\n\t\tperforationContainer.addChild(\n\t\t\tperforationGraphic.clone().setTransform(nextPerforationX)\n\t\t)\n\t}\n\tlet nextX = 400\n\tconst rng = new Prando()\n\tfor (let i = 0; i < 50; i++) {\n\t\tconst shape = rng\n\t\t\t.nextArrayItem([\n\t\t\t\t() => Shapes.triangleIso(rng.nextInt(80, 150), rng.nextInt(80, 150)),\n\t\t\t\t() => Shapes.square(rng.nextInt(80, 130)),\n\t\t\t\t() => Shapes.star(rng.nextInt(120, 160)),\n\t\t\t\t() => Shapes.zigZag(rng.nextInt(3, 5), rng.nextInt(30, 60)),\n\t\t\t])()\n\t\t\t.rotate(rng.nextInt(-60, 60))\n\t\tlet y = rng.nextInt(\n\t\t\tAreaConstraint.top[player],\n\t\t\tAreaConstraint.bottom[player] - shape.boundingBox.height\n\t\t)\n\t\tshape.move({\n\t\t\tx: nextX - shape.boundingBox.left,\n\t\t\ty: y - shape.boundingBox.top,\n\t\t})\n\t\taddShape(shape)\n\t\tnextX += shape.boundingBox.width + rng.nextInt(20, 60)\n\t}\n}\n\nexport function getShapeAt(\n\tposition: Vector2,\n\tvelocity: Vector2,\n\trange: number\n) {\n\tconst velocityAngle = Angle.fromVector(velocity)\n\tfor (let shape of [...shapes].filter((s) => !s.complete)) {\n\t\tfor (let segment of shape.startingSegments) {\n\t\t\tlet direction = SEGMENT_DIR.NONE\n\t\t\tconst start = { x: 0, y: 0 }\n\t\t\tif (\n\t\t\t\t[SEGMENT_DIR.START_TO_END, SEGMENT_DIR.BIDIRECTIONAL].includes(\n\t\t\t\t\tsegment.direction\n\t\t\t\t) &&\n\t\t\t\tAngle.diff(segment.angle, velocityAngle) < MAX_ANGLE &&\n\t\t\t\tVector2.getMagnitudeSquared(\n\t\t\t\t\tVector2.subtract(position, segment.start)\n\t\t\t\t) <=\n\t\t\t\t\trange ** 2\n\t\t\t) {\n\t\t\t\tdirection = SEGMENT_DIR.START_TO_END\n\t\t\t\tstart.x = segment.start.x\n\t\t\t\tstart.y = segment.start.y\n\t\t\t} else if (\n\t\t\t\t[SEGMENT_DIR.END_TO_START, SEGMENT_DIR.BIDIRECTIONAL].includes(\n\t\t\t\t\tsegment.direction\n\t\t\t\t) &&\n\t\t\t\tAngle.diff(Angle.flip(segment.angle), velocityAngle) < MAX_ANGLE &&\n\t\t\t\tVector2.getMagnitudeSquared(Vector2.subtract(position, segment.end)) <=\n\t\t\t\t\trange ** 2\n\t\t\t) {\n\t\t\t\tdirection = SEGMENT_DIR.END_TO_START\n\t\t\t\tstart.x = segment.end.x\n\t\t\t\tstart.y = segment.end.y\n\t\t\t}\n\t\t\tif (direction !== SEGMENT_DIR.NONE) {\n\t\t\t\tshape.reverse = direction === SEGMENT_DIR.END_TO_START\n\t\t\t\tshape.start = start\n\t\t\t\tshape.graphics.alpha = 1\n\t\t\t\tLevel.shape = shape\n\t\t\t\tLevel.segment = segment\n\t\t\t\treturn true\n\t\t\t}\n\t\t}\n\t}\n\treturn false\n}\n\nexport function getSegmentStart() {\n\treturn Level.shape!.reverse ? Level.segment!.end : Level.segment!.start\n}\nexport function getSegmentEnd() {\n\treturn Level.shape!.reverse ? Level.segment!.start : Level.segment!.end\n}\nexport function getNextSegment() {\n\treturn Level.shape!.reverse ? Level.segment!.previous : Level.segment!.next\n}\n\nexport function updateLevel() {\n\tif (spriteContainer.toGlobal(perforationContainer).x < 0)\n\t\tperforationContainer.x += PERFORATION_GAP\n\tfor (const shape of shapes) {\n\t\tif (spriteContainer.toGlobal({ x: shape.boundingBox.right, y: 0 }).x < 0) {\n\t\t\t//TODO: shape.destroy()\n\t\t\tshapes.delete(shape)\n\t\t\tshape.graphics.destroy()\n\t\t}\n\t}\n}\n","import { Container, Graphics } from 'pixi.js'\nimport * as PIXI from 'pixi.js'\nimport { PixiApp } from './pixi/pixi_app'\nimport { Vector2 } from './util'\n\nconst LINE_POINT_DIST = 4\n\nconst paintContainer: Container = new Container()\nPixiApp.shared.spriteContainer.addChildAt(paintContainer, 2)\n\nlet currentLine: Graphics | null = null\nlet lastPoint: Vector2 | null = null\n\nexport function paintLine(\n\t{ x, y }: Vector2,\n\tnewLine: boolean,\n\tthickness: number,\n\tcomplete = false\n) {\n\tif (newLine || !currentLine) {\n\t\tif (newLine || !currentLine) lastPoint = { x, y }\n\t\tcurrentLine = new Graphics()\n\t\tpaintContainer.addChild(currentLine)\n\t} else if (\n\t\tcomplete ||\n\t\tVector2.getMagnitude({ x: x - lastPoint!.x, y: y - lastPoint!.y }) >\n\t\t\tLINE_POINT_DIST\n\t) {\n\t\tcurrentLine.moveTo(lastPoint!.x, lastPoint!.y)\n\t\tcurrentLine.lineStyle({\n\t\t\twidth: thickness,\n\t\t\tcolor: 0xc03b94,\n\t\t\tcap: PIXI.LINE_CAP.ROUND,\n\t\t\tjoin: PIXI.LINE_JOIN.ROUND,\n\t\t})\n\t\tcurrentLine.lineTo(x, y)\n\t\tlastPoint = { x, y }\n\t\tif (complete) currentLine.cacheAsBitmap = true\n\t}\n}\n","import {\n\taddComponent,\n\tdefineQuery,\n\tenterQuery,\n\thasComponent,\n\tNot,\n\tremoveComponent,\n\tSystem,\n} from 'bitecs'\nimport {\n\tAreaConstraint,\n\tcomponentToVector2,\n\tDrag,\n\tForce,\n\tJump,\n\tPainting,\n\tPlayer,\n\tsetComponentXY,\n\tTransform,\n\tupdateSpeed,\n\tVelocity,\n} from './components'\nimport { Vector2 } from '../util'\nimport { circIn, circOut, cubicOut } from '@gamestdio/easing'\nimport InputManager from '../input'\nimport { PixiApp } from '../pixi/pixi_app'\nimport {\n\tcursorGraphic,\n\tplayer,\n\tplayerLeft,\n\tplayerRight,\n\tplayerSprite,\n} from '../'\nimport {\n\tgetNextSegment,\n\tgetSegmentEnd,\n\tgetSegmentStart,\n\tgetShapeAt,\n\tLevel,\n\tupdateLevel,\n} from '../level'\nimport { paintLine } from '../paint'\nimport '@pixi/math-extras'\nimport { Point } from '@pixi/math'\n\nconst { spriteContainer } = PixiApp.shared\n\nlet levelScrollSpeed = 1 / 2\nlet ticksPerScroll = Math.round(1 / levelScrollSpeed)\nlet ticks = 0\n\nexport const scrollSystem: System = (world) => {\n\tticks++\n\tif (ticks % ticksPerScroll === 0) {\n\t\tspriteContainer.x--\n\t\tupdateLevel()\n\t}\n\treturn world\n}\n\nconst { mouse } = InputManager.shared\n\nexport const inputSystem: System = (world) => {\n\tmouse.global = mouse.data.global\n\tmouse.local = spriteContainer.toLocal(mouse.data.global)\n\tmouse.leftButton = mouse.startedInBounds && !!(mouse.data.buttons & 1)\n\tmouse.rightButton = mouse.startedInBounds && !!(mouse.data.buttons & 2)\n\treturn world\n}\n\nconst ACCELERATION = 1\nconst PAINT_ACCEL = 0.5\nconst MAX_PAINT_SPEED = 7\n\n// Certain things cause camera to speed up, slow down, or stop\n// Risk of starting to trace a shape that you don't have time to complete\n// Canvas is like a big conveyor belt?\n\nexport const playerSystem: System = (world) => {\n\tconst deltaPoint = new Point(\n\t\tmouse.local.x - Transform.x[player],\n\t\tmouse.local.y - Transform.y[player]\n\t)\n\tcursorGraphic.visible = false\n\tsetComponentXY(Player.pointerDelta, player, deltaPoint)\n\tPlayer.pointerDelta.magnitude[player] = deltaPoint.magnitude()\n\tif (!mouse.leftButton || hasComponent(world, Jump, player)) {\n\t\tremoveComponent(world, Force, player)\n\t\treturn world\n\t}\n\tconst aim = Level.segment ? getSegmentEnd().x : deltaPoint.x\n\tconst middle = Level.segment ? Transform.x[player] : 0\n\tplayerSprite.texture = aim > middle ? playerRight : playerLeft\n\tconst deltaMagnitude = Player.pointerDelta.magnitude[player]\n\tif (deltaMagnitude < 16) {\n\t\tremoveComponent(world, Force, player)\n\t} else if (!hasComponent(world, Painting, player)) {\n\t\taddComponent(world, Force, player)\n\t\tdeltaPoint.multiplyScalar(1 / deltaMagnitude, deltaPoint) // Normalize\n\t\tconst cursorPoint = new Point()\n\t\tdeltaPoint.multiplyScalar(Math.min(40, deltaMagnitude), cursorPoint)\n\t\tcursorGraphic.setTransform(\n\t\t\tTransform.x[player] + cursorPoint.x,\n\t\t\tTransform.y[player] + cursorPoint.y\n\t\t)\n\t\tcursorGraphic.alpha = Math.min(1, (deltaMagnitude - 16) / 28)\n\t\tcursorGraphic.visible = true\n\t\tconst deltaFactor = Math.min(1, (deltaMagnitude - 12) / 32)\n\t\tconst force = deltaPoint.multiplyScalar(ACCELERATION * deltaFactor)\n\t\tsetComponentXY(Force, player, force)\n\t}\n\treturn world\n}\n\nexport const paintingSystem: System = (world) => {\n\tif (!hasComponent(world, Painting, player) || !Level.segment) return world\n\tif (mouse.leftButton) {\n\t\tconst deltaPoint = new Point(\n\t\t\tPlayer.pointerDelta.x[player],\n\t\t\tPlayer.pointerDelta.y[player]\n\t\t)\n\t\tconst deltaMagnitude = Player.pointerDelta.magnitude[player]\n\t\tdeltaPoint.multiplyScalar(1 / deltaMagnitude, deltaPoint) // Normalize\n\t\tconst deltaFactor = Math.min(1, (deltaMagnitude - 12) / 32)\n\t\tconst forward = Math.max(\n\t\t\t0,\n\t\t\tLevel.segment.parallelPoint.dot(deltaPoint) *\n\t\t\t\t(Level.shape!.reverse ? -1 : 1)\n\t\t)\n\t\tconst drift = Level.segment.perpendicularPoint.dot(deltaPoint)\n\t\tconst driftAmount = cubicOut(Math.abs(drift) * deltaFactor)\n\t\tPainting.drift[player] += drift * driftAmount\n\t\tPainting.speed[player] = Math.min(\n\t\t\tPainting.speed[player] + PAINT_ACCEL * forward * deltaFactor,\n\t\t\tMAX_PAINT_SPEED\n\t\t)\n\t}\n\n\tLevel.segment.progress = Math.min(\n\t\t1,\n\t\tLevel.segment.progress + Painting.speed[player] / Level.segment.length\n\t)\n\tPainting.speed[player] = Math.max(0, Painting.speed[player] - PAINT_ACCEL / 3)\n\tconst driftPoint = Level.segment.perpendicularPoint.multiplyScalar(\n\t\tPainting.drift[player]\n\t)\n\tPainting.drift[player] *= 0.8\n\tsetComponentXY(\n\t\tTransform,\n\t\tplayer,\n\t\tVector2.add(\n\t\t\tgetSegmentStart(),\n\t\t\tLevel.segment.parallelPoint.multiplyScalar(\n\t\t\t\tLevel.segment.length *\n\t\t\t\t\tLevel.segment.progress *\n\t\t\t\t\t(Level.shape!.reverse ? -1 : 1)\n\t\t\t),\n\t\t\tdriftPoint\n\t\t)\n\t)\n\treturn world\n}\n\nconst forceQuery = defineQuery([Force, Velocity])\n\nexport const forceSystem: System = (world) => {\n\tfor (let eid of forceQuery(world)) {\n\t\tlet newVelocity = {\n\t\t\tx: Velocity.x[eid] + Force.x[eid],\n\t\t\ty: Velocity.y[eid] + Force.y[eid],\n\t\t}\n\t\tsetComponentXY(Velocity, eid, newVelocity)\n\t\tupdateSpeed(eid)\n\t}\n\treturn world\n}\n\nconst jumpQuery = defineQuery([Jump, Transform])\nconst enterJump = enterQuery(jumpQuery)\n\nexport const jumpSystem: System = (world) => {\n\tfor (let eid of enterJump(world)) {\n\t\taddComponent(world, Velocity, eid)\n\t\tconst delta = Vector2.subtract(\n\t\t\tcomponentToVector2(Jump, eid),\n\t\t\tcomponentToVector2(Transform, eid)\n\t\t)\n\t\tsetComponentXY(\n\t\t\tVelocity,\n\t\t\teid,\n\t\t\tVector2.multiplyScalar(delta, 1 / Jump.duration[eid])\n\t\t)\n\t\tupdateSpeed(eid)\n\t}\n\tfor (let eid of jumpQuery(world)) {\n\t\tconst progressFloat = (Jump.progress[eid] / Jump.duration[eid]) * 2\n\t\tif (progressFloat < 1) {\n\t\t\tTransform.z[eid] = circOut(progressFloat) * Jump.height[eid]\n\t\t} else {\n\t\t\tTransform.z[eid] =\n\t\t\t\tJump.height[eid] - circIn(progressFloat - 1) * Jump.height[eid]\n\t\t}\n\t\tif (Jump.progress[eid] === Jump.duration[eid]) {\n\t\t\tremoveComponent(world, Jump, eid)\n\t\t\tTransform.z[eid] = 0\n\t\t}\n\t\tJump.progress[eid]++\n\t}\n\treturn world\n}\n\nconst velocityQuery = defineQuery([Transform, Velocity])\n\nexport const velocitySystem: System = (world) => {\n\tfor (let eid of velocityQuery(world)) {\n\t\tTransform.x[eid] += Velocity.x[eid]\n\t\tTransform.y[eid] += Velocity.y[eid]\n\t}\n\treturn world\n}\n\nconst MIN_SPEED = 0.2\n\nconst dragQuery = defineQuery([Drag, Velocity, Not(Jump)])\n\nexport const dragSystem: System = (world) => {\n\tfor (let eid of dragQuery(world)) {\n\t\tif (Velocity.speed[eid] === 0) continue\n\t\tif (Velocity.speed[eid] < MIN_SPEED) {\n\t\t\tsetComponentXY(Velocity, eid, { x: 0, y: 0 })\n\t\t\tVelocity.speed[eid] = 0\n\t\t} else {\n\t\t\tVelocity.x[eid] *= 1 - Drag.rate[eid]\n\t\t\tVelocity.y[eid] *= 1 - Drag.rate[eid]\n\t\t\tupdateSpeed(eid)\n\t\t}\n\t}\n\treturn world\n}\n\nconst areaConstraintQuery = defineQuery([Transform, AreaConstraint])\n\nexport const areaConstraintSystem: System = (world) => {\n\tfor (let eid of areaConstraintQuery(world)) {\n\t\tconst global = spriteContainer.toGlobal(componentToVector2(Transform, eid))\n\t\tconst clamped = Vector2.applyAreaConstraint(global, eid)\n\t\tif (!Vector2.equals(global, clamped)) {\n\t\t\tif (eid === player && Level.shape && global.x < clamped.x) {\n\t\t\t\t// Fallen behind while painting\n\t\t\t\tLevel.shape.complete = true\n\t\t\t\tLevel.shape = null\n\t\t\t\tLevel.segment = null\n\t\t\t\tremoveComponent(world, Painting, player)\n\t\t\t\taddComponent(world, Velocity, player)\n\t\t\t}\n\t\t\tif (global.x > clamped.x) {\n\t\t\t\t// Ahead\n\t\t\t\tspriteContainer.x -= Math.ceil(global.x - clamped.x)\n\t\t\t}\n\t\t\tif (hasComponent(world, Velocity, eid)) {\n\t\t\t\tif (global.x < clamped.x) Velocity.x[eid] = levelScrollSpeed\n\t\t\t\tif (clamped.y !== global.y) Velocity.y[eid] = 0\n\t\t\t\tupdateSpeed(eid)\n\t\t\t}\n\t\t}\n\t\tsetComponentXY(Transform, eid, spriteContainer.toLocal(clamped))\n\t}\n\treturn world\n}\n\n// TODO: Highlight nodes near cursor, use this for choosing start node\n\nexport const shapeSystem: System = (world) => {\n\tconst inverseSpeedFactor = 1 - Math.min(1, Velocity.speed[player] / 4)\n\tif (Level.shape && Level.segment) {\n\t\tif (Level.segment.progress === 1) {\n\t\t\tLevel.segment.complete = true\n\t\t\tconst nextSegment = getNextSegment()\n\t\t\tif (nextSegment && !nextSegment.complete) {\n\t\t\t\tLevel.segment = nextSegment\n\t\t\t\tsetComponentXY(Transform, player, getSegmentStart())\n\t\t\t\tPainting.speed[player] *= 0.5\n\t\t\t\tPainting.drift[player] = 0\n\t\t\t} else {\n\t\t\t\t// Shape complete\n\t\t\t\tLevel.shape.complete = true\n\t\t\t\tpaintLine(componentToVector2(Transform, player), false, 20, true)\n\t\t\t\tPainting.ticks[player] = 0\n\t\t\t\tremoveComponent(world, Painting, player)\n\t\t\t\tLevel.shape = null\n\t\t\t\tLevel.segment = null\n\t\t\t}\n\t\t} else if (\n\t\t\tPainting.ticks[player] === 0 &&\n\t\t\t!hasComponent(world, Jump, player)\n\t\t) {\n\t\t\t// Begin painting\n\t\t\taddComponent(world, Painting, player)\n\t\t\tPainting.speed[player] = 0\n\t\t\tPainting.drift[player] = 0\n\t\t\tPainting.ticks[player] = 1\n\t\t}\n\t} else if (\n\t\tmouse.leftButton &&\n\t\tVelocity.speed[player] > 0 &&\n\t\tgetShapeAt(\n\t\t\tcomponentToVector2(Transform, player),\n\t\t\tcomponentToVector2(Velocity, player),\n\t\t\t(1 - inverseSpeedFactor) * 30\n\t\t)\n\t) {\n\t\t// Start shape\n\t\tremoveComponent(world, Force, player)\n\t\taddComponent(world, Jump, player)\n\t\tsetComponentXY(Jump, player, Level.shape!.start)\n\t\tJump.duration[player] = 8 + inverseSpeedFactor * 16 // Ticks\n\t\tJump.height[player] = 10 + inverseSpeedFactor * 10\n\t\tJump.progress[player] = 0\n\t}\n\n\tif (Painting.ticks[player] > 0) {\n\t\tpaintLine(\n\t\t\tcomponentToVector2(Transform, player),\n\t\t\tPainting.ticks[player] === 1,\n\t\t\t20\n\t\t)\n\t\tPainting.ticks[player]++\n\t}\n\treturn world\n}\n","import type { DisplayObject } from 'pixi.js'\nimport { Graphics } from 'pixi.js'\nimport { PixiApp } from './pixi_app'\n\nexport const DisplayObjects: DisplayObject[] = [] // Indexed by entity ID\n\n// const { height } = PixiApp.shared.application.view\n\nconst axis = new Graphics()\naxis.lineStyle({ width: 1, color: 0xeecda0, alignment: 0 })\naxis.moveTo(-24, 0)\naxis.lineTo(24, 0)\naxis.moveTo(1, -24)\naxis.lineTo(1, 24)\naxis.beginFill(0xe6a67c)\naxis.lineStyle({ width: 0 })\naxis.drawRect(0, 0, 1, 1)\nPixiApp.shared.stage.addChild(axis)\n","import { Changed, defineQuery, enterQuery, System } from 'bitecs'\nimport { DisplayObject, Transform } from './components'\nimport { DisplayObjects } from '../pixi/object_manager'\n\nconst spriteQuery = defineQuery([Changed(Transform), DisplayObject])\nconst newSprites = enterQuery(spriteQuery)\n\nfunction updateSprite(eid: number) {\n\tDisplayObjects[eid].x = Math.floor(Transform.x[eid])\n\tDisplayObjects[eid].y = Math.floor(Transform.y[eid] - Transform.z[eid])\n}\n\nexport const spriteSystem: System = (world) => {\n\tnewSprites(world).forEach(updateSprite)\n\tspriteQuery(world).forEach(updateSprite)\n\treturn world\n}\n\nexport const cameraSystem: System = (world) => {\n\treturn world\n}\n","import { createWorld, pipe, registerComponents } from 'bitecs'\nimport {\n\tareaConstraintSystem,\n\tdragSystem,\n\tforceSystem,\n\tinputSystem,\n\tplayerSystem,\n\tvelocitySystem,\n\tshapeSystem,\n\tscrollSystem,\n\tjumpSystem,\n\tpaintingSystem,\n} from './systems'\nimport { Force, Painting } from './components'\nimport { cameraSystem, spriteSystem } from './render_systems'\n\nexport default class ECS {\n\tworld = createWorld()\n\ttickPipeline = pipe(\n\t\tscrollSystem,\n\t\tinputSystem,\n\t\tplayerSystem,\n\t\tpaintingSystem,\n\t\tforceSystem,\n\t\tjumpSystem,\n\t\tvelocitySystem,\n\t\tdragSystem,\n\t\tareaConstraintSystem,\n\t\tshapeSystem\n\t)\n\trenderPipeline = pipe(spriteSystem, cameraSystem)\n\tconstructor() {\n\t\tregisterComponents(this.world, [Force, Painting])\n\t}\n}\n","import Stats from 'stats.js'\nimport ECS from './ecs/ecs'\nimport { PixiApp } from './pixi/pixi_app'\n\nexport default class Game {\n\tprivate static _shared: Game = new Game()\n\tecs = new ECS()\n\tworld = this.ecs.world\n\ttick = 0\n\ttickRate = 60\n\ttickTime = 1000 / this.tickRate\n\tdeltaTime = 0\n\tpaused = false\n\tinterpolate = true\n\n\tinit() {\n\t\tconst stats = new Stats()\n\t\tdocument.body.appendChild(stats.dom)\n\n\t\t// Main loop\n\t\tlet lag = 0\n\t\tlet lastUpdate = performance.now()\n\t\tconst update = (now: number) => {\n\t\t\t// Adapted from https://gist.github.com/godwhoa/e6225ae99853aac1f633\n\t\t\trequestAnimationFrame(update)\n\t\t\tif (!this.paused) {\n\t\t\t\tlet delta = now - lastUpdate\n\t\t\t\tif (delta > 1000) delta = this.tickTime\n\t\t\t\tlag += delta\n\t\t\t\twhile (lag >= this.tickTime) {\n\t\t\t\t\tthis.tick++\n\t\t\t\t\tthis.ecs.tickPipeline(this.world)\n\t\t\t\t\tlag -= this.tickTime\n\t\t\t\t}\n\t\t\t}\n\t\t\tlastUpdate = now\n\t\t\tstats.begin()\n\t\t\tthis.deltaTime = lag / this.tickTime\n\t\t\tthis.ecs.renderPipeline(this.world)\n\t\t\tPixiApp.shared.render()\n\t\t\tstats.end()\n\t\t}\n\t\trequestAnimationFrame(update)\n\t}\n\n\tstatic get shared() {\n\t\treturn Game._shared\n\t}\n}\n","import './style.css'\nimport Game from './game'\nimport { addComponent, addEntity } from 'bitecs'\nimport {\n\tAreaConstraint,\n\tDisplayObject,\n\tDrag,\n\tPlayer,\n\tsetComponentXY,\n\tTransform,\n\tVelocity,\n} from './ecs/components'\nimport { Sprite, Texture, Loader, Graphics } from 'pixi.js'\nimport { PixiApp, SCREEN_HEIGHT, SCREEN_WIDTH } from './pixi/pixi_app'\nimport { DisplayObjects } from './pixi/object_manager'\nimport { createLevel } from './level'\n\nconst game = Game.shared\n\nconst { spriteContainer } = PixiApp.shared\n\nconst loader = Loader.shared\nloader.add('./sprites.json')\nloader.onComplete.once(startGame)\nloader.onError.once(console.error)\nloader.load()\n\nexport const player = addEntity(game.world)\nexport let playerSprite: Sprite\nexport let playerRight: Texture\nexport let playerLeft: Texture\nexport let cursorGraphic: Graphics\n\nasync function startGame() {\n\tplayerRight = Texture.from('player-right')\n\tplayerLeft = Texture.from('player-left')\n\n\taddComponent(game.world, Player, player)\n\taddComponent(game.world, Transform, player)\n\tsetComponentXY(Transform, player, { x: 200, y: SCREEN_HEIGHT / 2 })\n\tTransform.z[player] = 0\n\tTransform.width[player] = 28\n\tTransform.height[player] = 24\n\taddComponent(game.world, Velocity, player)\n\taddComponent(game.world, Drag, player)\n\tDrag.rate[player] = 0.2\n\taddComponent(game.world, AreaConstraint, player)\n\tAreaConstraint.top[player] = 38\n\tAreaConstraint.left[player] = 24\n\tAreaConstraint.bottom[player] = SCREEN_HEIGHT - 12\n\tAreaConstraint.right[player] = SCREEN_WIDTH - 24\n\taddComponent(game.world, DisplayObject, player)\n\n\tcursorGraphic = new Graphics()\n\tcursorGraphic.beginFill(0xff94b2, 0.5)\n\tcursorGraphic.drawCircle(0, 0, 8)\n\tspriteContainer.addChild(cursorGraphic)\n\n\tplayerSprite = new Sprite(playerRight)\n\tplayerSprite.anchor.set(0.5, 0.85)\n\tDisplayObjects[player] = playerSprite\n\tspriteContainer.addChild(playerSprite)\n\n\tgame.init()\n\tcreateLevel()\n}\n// TODO: Try Vite?\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t179: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tfor(moduleId in moreModules) {\n\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t}\n\t}\n\tif(runtime) var result = runtime(__webpack_require__);\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkIds[i]] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkmottle\"] = self[\"webpackChunkmottle\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [548], () => (__webpack_require__(9826)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"sourceRoot":""}